<section class="mx-auto flex max-w-[1440px] items-center justify-between gap-24 p-4 px-4">
  <div><img src="/imgs/logo_bubble.png" /></div>
  <div clickOutside (clickOutside)="closeDropdown()" class="relative grow">
    <input
      matInput
      type="text"
      placeholder="Devspace durchsuchen"
      [(ngModel)]="searchTerm"
      (focus)="onFocus()"
      (input)="onSearchInput($event)"
      class="h-12 w-full rounded-full bg-white py-2 pr-10 pl-12 text-gray-500 focus:outline-none" />
    <mat-icon class="absolute top-1/2 right-12 -translate-y-1/2"> search </mat-icon>
    <app-filter-box
      *ngIf="dropdownOpen"
      [searchTerm]="searchTerm"
      (selectItem)="onSelect($event)"
      (close)="dropdownOpen = false"></app-filter-box>
  </div>
  <div class="flex items-center gap-4">
    <p class="font-nunito">{{ currentUser()?.name || 'Gast' }}</p>
    <div class="relative">
      <img class="size-16 rounded-full" [src]="currentUser()?.photoUrl || 'imgs/default-profile-picture.png'" />
      <span
        class="absolute right-0 bottom-0 size-4 rounded-full border-2 border-white"
        [ngClass]="currentUser()?.onlineStatus ? 'bg-green-500' : 'bg-gray-400'"
        title="{{ currentUser()?.onlineStatus ? 'Online' : 'Offline' }}">
      </span>
    </div>
    <button #menuBtn class="size-12" matIconButton (click)="openUserMenu($event)">
      <mat-icon>keyboard_arrow_down</mat-icon>
    </button>
  </div>
</section>
