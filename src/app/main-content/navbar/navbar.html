<section class="mx-auto flex max-w-[1440px] items-center justify-between gap-6 p-4 px-4 lg:gap-12">
  <div class="flex items-center gap-3 pl-4">
    <img class="size-12 lg:size-20" src="/imgs/logo.svg" /><span class="cursor-default text-2xl font-bold md:text-3xl"
      >DABubble</span
    >
  </div>
  <div clickOutside (clickOutside)="closeDropdown()" class="relative hidden grow sm:block">
    <input
      matInput
      type="text"
      placeholder="Devspace durchsuchen"
      [(ngModel)]="searchTerm"
      (focus)="onFocus()"
      (blur)="onBlur()"
      (input)="onSearchInput($event)"
      class="h-12 w-full rounded-full bg-white py-2 pr-10 pl-3 lg:pl-12 text-gray-500 focus:outline-none" />
    <mat-icon class="absolute top-1/2 right-4 lg:right-8 -translate-y-1/2"> search </mat-icon>
    <app-filter-box
      *ngIf="dropdownOpen"
      [isFocused]="true"
      [searchTerm]="searchTerm"
      (close)="closeDropdown()"></app-filter-box>
  </div>
  <div class="hover-me flex items-center gap-4" (click)="openUserMenu()">
    <p class="font-nunito hidden font-bold md:block text-2xl lg:text-3xl">{{ currentUser()?.name || 'Gast' }}</p>
    <div class="relative">
      <img
        class="size-10 rounded-full md:size-14 lg:size-16"
        [src]="currentUser()?.photoUrl || 'imgs/default-profile-picture.png'" />
      <span
        class="absolute right-0 bottom-0 size-3 rounded-full border-2 border-white lg:size-4"
        [ngClass]="currentUser()?.onlineStatus ? 'bg-green-500' : 'bg-gray-400'"
        title="{{ currentUser()?.onlineStatus ? 'Online' : 'Offline' }}">
      </span>
    </div>
    <button #menuBtn class="hidden size-6 lg:block" matIconButton>
      <mat-icon>keyboard_arrow_down</mat-icon>
    </button>
  </div>
</section>
