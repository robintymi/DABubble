<section class="relative pr-[calc((100%-1440px)/2)] pl-[calc((100%-1440px)/2)]">
  <app-navbar></app-navbar>

  <mat-sidenav-container class="relative h-[calc(100vh-124px)]">
    <mat-sidenav #leftSidenav opened mode="side"
      ><app-workspace (newMessage)="openNewMessagePanel()"></app-workspace
    ></mat-sidenav>
    <mat-sidenav opened mode="side" position="end" *ngIf="!showNewMessage">
      <app-thread></app-thread>
    </mat-sidenav>

    <mat-sidenav-content>
      <ng-container *ngIf="showNewMessage; else channelView">
        <div class="new-message-panel">
          <app-new-message (close)="closeNewMessagePanel()"></app-new-message>
          <app-messages></app-messages>
        </div>
      </ng-container>
      <ng-template #channelView>
        <app-channel></app-channel>
      </ng-template>
      </mat-sidenav-content>
  </mat-sidenav-container>
  <div class="absolute" *ngIf="leftSidenav.opened">
    <button
      class="workspace_button open absolute bottom-64 z-10 flex items-center gap-3 rounded-b-xl drop-shadow-lg"
      (click)="leftSidenav.close()">
      Workspace-Menü schließen
      <mat-icon class="close_workspace">slideshow</mat-icon>
    </button>
  </div>

  <div class="absolute" *ngIf="!leftSidenav.opened">
    <button
      class="workspace_button close absolute bottom-64 z-10 flex items-center gap-3 rounded-b-xl drop-shadow-lg"
      (click)="leftSidenav.open()">
      Workspace-Menü öffnen
      <mat-icon class="open_workspace">slideshow</mat-icon>
    </button>
  </div>
</section>
