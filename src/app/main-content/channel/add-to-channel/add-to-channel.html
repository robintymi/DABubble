<section
  *ngIf="visible"
  class="add-to-channel"
  [@fadeScale]="visible ? 'enter' : 'leave'"
  (@fadeScale.done)="onAnimationDone()"
  role="dialog"
  aria-modal="true"
  [attr.aria-label]="'Mitglieder zu ' + channelTitle + ' hinzufügen'">
  <header class="add-to-channel__header">
    <span class="add-to-channel__title">Leute hinzufügen</span>
    <button type="button" class="add-to-channel__close" aria-label="Overlay schließen" (click)="closeOverlay()">
      <mat-icon>close</mat-icon>
    </button>
  </header>

  <div class="add-to-channel__channel-tag" aria-label="Aktueller Channel">
    <mat-icon>tag</mat-icon>
    <span># {{ channelTitle }}</span>
  </div>

  <div class="add-to-channel__search" (focusin)="onSearchFocus()">
    <label class="add-to-channel__label" for="add-to-channel-search">Mitglieder hinzufügen</label>
    <div class="add-to-channel__field">
      <mat-icon>add_circle</mat-icon>
      <input id="add-to-channel-search" type="text" placeholder="Name eingeben" aria-label="Mitglied suchen" />
    </div>
    <div class="add-to-channel__dropdown" *ngIf="showSuggestions">
      <div *ngIf="filteredMembers.length === 0" class="add-to-channel__empty">
        Alle Mitglieder sind bereits im Channel.
      </div>

      <button
        type="button"
        *ngFor="let member of filteredMembers"
        class="add-to-channel__option"
        aria-label="{{ member.name }} zum Channel hinzufügen">
        <img [src]="member.avatar" [alt]="member.name" />
        <div class="add-to-channel__option-meta">
          <span class="add-to-channel__option-name">{{ member.name }}</span>
          <span *ngIf="member.subtitle" class="add-to-channel__option-subtitle">{{ member.subtitle }}</span>
        </div>
        <span *ngIf="member.status === 'online'" class="add-to-channel__status" aria-label="Online"></span>
      </button>
    </div>
  </div>
</section>
